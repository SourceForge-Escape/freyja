
 TODO
 =============================================================================

 Freyja, Development branch 0.9.5 ( Current )
 -----------------------------------------------------------------------------

 * Single joint animation shishi odoshi tutorial demo.

 * Continue to break up ye olde FreyjaControl (legacy UI) by editing mode.

 * Edge editing.
	- Mesh::RebuildEdgeGraph()
	- Mesh::RebuildPlanes()
	- RELATED Cache s-edge results until light / mesh moves.

 * Verify math library, enforce automated testing at build.
	- Depends on new cmake build system being merged into public svn.
	- Make sure everything is using col hel::Mat44 correctly now.
		- 'Raypick vs FK'
	- Make sure everything is converting between types properly.

 * Fix groups box ids -- go back to proper bitflags like in 0.9.3/4.

 * Add back context path storage for new filedialogs.
	- eg Last saved/opened file's path is stored for next start path.

 * Refactor the file dialog code based on the new import/export test.
	- Reduce the import/export test.
	- Decide to force only 'native' support in general file dialogs.
	- Likely go with the popular 'guesser' for open and native for save.

 * Finish breakup of FreyjaControl into separate controls.
	- Move bone control in FreyjaControl to BoneEv class.
	- Move out all specific the e/Ev methods.
	- Move texcoord/object switch UI into their own controls.

 * Fix mouse cursor control.
	- Rotation modifier not WYSIWYG.
	- Rotation will reapply last rotation if a quick click selection occurs.
	- Rotation not reset before object creation/selection sometimes causing bug.
	- Transform has a 'pop' or 'jump' in model and mesh modes

 * Basic geometry previews using blend vertices buffer - avoid data mutators.
	- Faces/Face should use blend vertices buffer, then 'write' results later

 * Restore auto UV mapping.
	- Add unwrap to cyn uvmap ( don't allow uv polygons to overlay )

 * Polygon generators using new backend ( UI legacy removal depends on this. )

 * Add the simple Bezier patch polygon mesh generator back.

 * Shading for editing flat / face normal / etc

 * Octree for vertex/object pick culling.

 * Merge pak vfs into main UI.  Currently it's an awkward UI plugin.
	- Change vfs file list to have mixed dir/files in one pane to follow HIG.

 * Skeletal animation refactor
	- Visualize weights over skinned mesh
		- Select/highlight2 vertices by bone
	- Keyframe editor improvements
		- Move to time based UI and new containers 
		- Finalize the interpolation system in libfreyja
		- Curve editor ( OpenGL UI based editor )
	- Fix and reenable Undo for new joint transforms.
	- Hookup threaded timers/time based renderer for animation playback mode.
	- Skeleton level transforms should only handle root/children.
	- Better 'pose' interface: transparency on cursors / bones, scaling UI.
	- X->Z swap event for bones, etc
	- Animation import/export
	- Single keyframe import/export
	- Chain Copy/Paste, Mirror,  
	- Fix any remaining FK issues
	- Separate world updates from mesh skinning code.
	- Go back and ensure everything is using relative transforms now.
	- Editor needs to revert back to 'Bone' transforms to edit keys in key mode
	- Attachments
	- Various joint types: hinge, ball&socket, etc
	- IK solver and interface
	- New Timer for animation playback and keyframe timing
	- Rework weight system to support zeroed weights and grouping
	- Merge the two bone rendering systems once alpha is done
	- Channels support
	- Ordering support
	- Type of transform support
	- Constraints support
	- Ref weights from vertex to fix blending issues
	- Reverse bone rendering direction option <-- --->  large part to leaf

 * Make generic plugin interface for new UI control points.

 * ZIP file based pak format for freyja format models w/ textures, etc?
	
 * Mesh parenting and grouping.

 * Rendering support for alpha flagged faces ( separate pass depth sorting )
	- Face flag for marking faces that need to be depth sorted... 

 * Material sphere rotation controlled by slider.

 * Finish up the icon set.

 * Directional light and other '3d icons'.

 * Do another pass on 0.9.6 items to be sure they aren't already completed.


 Freyja, Dancer/Kagura 0.9.6 (Public Alpha-Beta, TBD)
 -----------------------------------------------------------------------------

 * Review build system for a possible move back to autotools.

 * Review build system for possible cmake support.

 * Review for possible Launchpad integration and project registry.

 * Review for possible offical packages with Ubuntu/Debian.

 * MSTL review for possible rewrite.  Wish: generic container item, opt, etc.
	- It might be a good idea to have true vector and vectorarray containers.

 * APIs / designs to be finalized
	- Optmize Mesh to avoid wasting texCoords when unused by vertices
	- Use status bar for mouse over tooltips also?
	- Path animation?
	- New resource event system with UIDs and event transparent buckets?
	- Object proprieties dialog?
		- Hidden property / Show object
		- Visibility layers using flags
	- Cg support plugin?
	- Force Copy / Cut / Paste / Dupe / Split / Merge for every object type?
	- Multi-object modes might need new UI design to avoid user confusion?
	- Add material colors for 'editing while rendering'? ( seems bad idea )
	- Face extruding maybe doesn't need to be pick ray guided (confusing?)
	- Hook up UV transforms, and flesh them out.
	- Track and Keyframe classes 
		- Keyframe vector issue
	- Add Meld/fMuted support for Vertex operations in Mesh
	- Add menu action to clamp texcoords on selected Mesh
	- Fix all remaining mesh issues like uv editing and manual welds
	- Mesh::Merge() doesn't merge animations ( shouldn't matter? )
	- Mesh::WeldTexCoords() is non-functunal 
	- Mesh::Serialize(...) for binary Files needs to be updated for format	

 * Visual scaling of cursors may need to be adjusted during zoom != 1.0f
	- This means sphere/ray targets must be scaled to match visual also

 * Brush system for vertex weight and texture on model painting

 * Scene graph UI.

 * Full Light editor.

 * Camera editor.

 * Async I/O test with special memory pool, etc ( killable I/O threads )

 * Add back typesetting for GLPrinter ( eg letters like g are repositioned. )

 * Texture buffer array per material for: diffuse/normal/gloss/data/dudv/etc
	- Bring back old TextureManager to avoid wasting texture memory

 * Replace MaterialEv Load/Save material with libfreyja format+metadata.

 * /usr/share seeding age control to /home/ plugins via version.

 * freyjaPak ( VFS )
	- Encryption support
	- Direct set functions to import / export
	- New vfs plugin UI
	- Buffered/fileread/filewrite file plugin interface

 * Formalized unit tests and reporting.

 * Clean up mstl by breaking up classes with better namespacing.

 * Rewrite mstl Map / RedBlackTree / AVLTree / etc at some point.

 * COLLADA 1.4 plugin with Import/Export.

 * Ensure transform algorithms are not done in client.

 * Finish Bone MetaData support.

 * Add in simple collision ( eg Dropping lantern on chair scene )

 * Style / legal / contact updates for all code.

 * User prefs default material and user prefs reset to defaults.

 * Use tree widget for scene graph with mesh/skel.bone/mats.

 * Break up UVMaps by smoothing groups/materials per mesh via toggle option.

 * MOTD / autoupdate plugin.

 * Renable 'direct' vertex animation creation by request.
	- Letting the user move selected points in vertex morph mode


 Freyja, Dancer/Kagura 0.9.6 (Beta-Release, TBD)
 -----------------------------------------------------------------------------

 * GNOME MIME setup script

 * PluginManager ( enable / disable plugins, descriptions, etc )

 * Log window for more complete error / warning reporting.

 * Query dialog with multitype support.
		struct query { string msg, type defaultvalue, type eventId }

 * Import/export plugin changes
	- dropdown should change filename
	- Threaded import/export?
		- fLocked support
		- fSelectedFIO support
	- Detailed error messages ( Pass back a String to generate msgbox ) 
	- FreyjaType flags usage ( eg mesh only, mesh+skeleton, etc )
	- Freyja selection usage ( eg export selected )
	- Optional memory buffer usage instead of file/url ( great for paks )
	- These could be setup inside of per plugin preferences, so
		  the ABI doesn't have to change ala states
	- Open/Save buttons on filedialogs

 * Import/Export submenus like the Plugins.. submenu
	- SMD plugin option to save mesh prompt
	- Selection mask support
	- Flags for disabling mesh/skeleton/animations/etc
	- File dialogs should be able to handle 
		  *.ms3d and auto append instead of doing *.milkshape

 * Viewport view / control abstraction
	- Reimplement and enable Camera system
	- Add camera editing back

 * GLSL shaders
	- FreyjaOpenGL should remap shaders to make sure two of the same
		  shader aren't loaded at once ( just pass back the orig program id )
	- Refraction demo shader ( turbulence with frag prob best )
	- Depth of field demo shader

 * Misc
	- Move all transforms in UI to ::Transform and hook-up undo/redo for all
	- Edge editing needs to be top level 'edit type' like face in UI
	- Face splitting needs to be user controllable
	- Stiching mode for making faces from existing vertices
		- This is an old 'Fan favorite' feature of freyja that was removed
		- Stiching existing vertices should be a seperate mode
		- This new implementation will use control points and a quad/tri
			  strip mode for the control point renderer to avoid writes to mesh
		- Have the user press <ctrl> mouse2 to generate the polygons


 Freyja, Proposed (TBA)
 -----------------------------------------------------------------------------

 Modeling
 -------------------------------------------------------------------------

 * Node editor for scene graph control

 * Box modeling
	- Add back UI for vertex welding 
	- Edge picking / editing / subdiv / extrude
	- Instancing for bisymmetry ( use a flag to enable a render mode )
	- Loop cuts needed for box modeling
	- Subdiv ABI
	- Direct edge selection
	- Spline interface
	- Improve extrude UI
	- Bi-symmetry modeling support

 * UV editing
	- Add back UV/Texcoord transforms for unwrapping editing
	- Texcoord split
	- Texcoord transforms with selected faces as UVMap
	- bounding box / fitter algorithm 
	- UVMaps replaces by selected faces
	- UV color button for default bg color
	- Selectable patterns like colorcube, checkerboard, gray as bg

 * Sphere/ray brush ( aka paint interface )
	- Paint with ray test
	- DMAP geometery brush interface
	- Weight painting			
	- Paint on texture with GIMP interface hooks
	- Bbox/Sphere/Magnet brushes

 * Surfaces
	- Patch ABI

 * libfreyja specific
	- Refine 0.9.x ABI / API
	- Merge 'Dancer' libfreyja 0.10 editor features and plugins
	- Documentation
	- State machine should only use C API for abstraction
	- Fix Collapse edges, etc req vertex refs
	- Add vertex/polygon list based texcoord mapping methods to ABI
	- Add subdiv algorithms like catmull-clark, n-patches, etc
	- Add polymesh CSG back ( face intersection )
	- Subdivision Loop and Sabin/Doo surfaces
	- Mesh/Vertex mirroring
	- Polymapped normal support? ( or UVMapped/smoothing group normals )
	- Primitives: Cone / Disk / Cylinder ? ( Not polygonal interface )
	- API interfaces for 'Copy/cut/paste' and 'Rot/Pos/Scale/etc'?

 * Lasso and improved bounding box selections

 * Gobal mesh UIDs ala bones/joints to remove need for model+mesh reference

 * UI to toggle group color rendering and set color

 * Mesh / Vertex / Face transforms fully working in dev branch

 * Billboard/sprite support outside edit data for user diagrams and icons

 * Polygon winding control ccw/cw/etc, and render culling options

 * Interactive Tristrip creation tool to replace the old point and connect
   	  polgon creation some people seem to love

 * Selected mesh shader / color option

 * Make Mesh enforce only 1 kind of Face type in the sense of:
	- PolyMapping UV / Normal / etc

 * Better UV unwrap ( write smart algorithms for projections )

 * Allow user to set radius of vertex and texcoord picks ( hook up )

 * Add back transforms for selected faces/groups in UV editor

 * Seperate smoothing groups and face 'clusters' 
	- Just have to separate smoothing action from group assignment

 * Refine Point / edge / face / mesh editing tools

 * Normal editor / Extrude guide / Control point view

 * Extrude multiple adj faces

 * Merge adj faces

 * Selection masks saving as layers?

 * Guided UV unwrap ( face pick )


 Animation
 --------------------------------------------------------------------------

 * Curves support for keyframe editor

 * Bone H-matrix / inverted H-matrix

 * Bones with transforms in/outside of hierarchy


 Rendering
 -------------------------------------------------------------------------

 * Material tree/node editor

 * Animated texcoords

 * glColorMaterial optional use

 * Shadow maps and volumes

 * Different skyboxes/floors w/ water reflection for animation view


 Event system / Interface
 -------------------------------------------------------------------------

 * libmgtk specific
	- 'Radio object' to auto uncheck toggle event when others trigger
	- Mlisp to replace aging Resource based mlisp domain language
	- MlispEvent to replace ResourceEvent
	- Mlisp doesn't lookup symbols for like "true" if just setq
		- This is by design, but maybe it should change now.

 * Interface
	- Two window layout for curve / viewport usage
	- Make viewport 'windows' abstract with seperate controls
		- Support for dynamic resizing and 2/3/4 layouts
		- FreyjaRender -> OpenGLContext, *ViewportRenderer
		- FreyjaControl -> Freyja3d, *ViewportControl
		- Combine controls and view into a seperate class/pkg
			  This will make it easier to scale and fix UI issues
	- Camera render mode for viewport
		- OpenGL depth / culling / etc control?
	- Remove state value from all mlisp toggle widgets ( use the set func )
	- Have a widget numeric set function like toggle widgets have for bool 
	- VFS UI needs to provide metadata like XOR keys, size, offset, etc		- Extra viewmode to toggle groups colors on/off
	- Two-way python function/script UI, reporting ala C plugins
		  or offically endorse pygtk, etc

   * Scene tree view for all objects in scene
	- Parenting interface

 * Cursor system
	- Consistency across cursor usage
	- Orbital / Camera view need special orientation constraints
	- Hierarchical systems like skeletons need fixes for world cursor 
	- Object modifiers should update cursor loc/rot/size only
		- On object select update cursor values
		- On modifier mode update cursor values via a 'bump' select (reuse)
	- Rotation cursor with radius sweeps to cursor pos following an arc
		- Also replace the old RotateObject() code to just use cursor
		  on select mode switch as per new design to prevent feedback loops
	- Ray/Vector based orbital view cursor guides ( 'go where I want' )
	- Rotation cursor needs final, real implementation added now
		- Circle around projected center or do something equally clever
			  for more tactical control
	- Vertex ops undo (all)
	- Render changes and constantly update
	- Enforce rule when confirmed by click actually modify
	- Opposite mouse click 'undo' by not modifying
	- Don't scale cursor
	- Cursor rotation pivot setting for vertices

 * Event system refinement { Undo, Redo, Macro, Playback }

 * Enforce usage of Observer and Command patterns for all events

 * Generic control points refinement

 * Multiple select ops vs single select


 Misc
 --------------------------------------------------------------------------

 * Refactor to use true singletons/other patterns where systems require

 * Simulation package revival

 * DBUS support now that it's hit stable ABI at 1.0?





